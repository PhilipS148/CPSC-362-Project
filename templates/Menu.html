<!DOCTYPE html>
<html lang="en">
<head>
    <title>Tuffy Tacos</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/tuffytaco.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='CSSFiles/Menu.css') }}">

</head>

<body>
    <header>
    <div class="header-grid">
        <a href="{{ url_for('index') }}">
            <img id="tuffy" src="{{ url_for('static', filename='images/tuffytaco.png') }}" height="80" width="80" alt="TuffyTacos">
        </a>
        <h1>Tuffy Tacos - Menu</h1>

        <div class="header-links">
            <a href="{{ url_for('index') }}">Return to homepage</a>
            <a href="{{ url_for('cart') }}">View Cart</a>
        </div>
    </div>
    </header>

    <main>
        <div id="table-container"></div>
    </main>

    <script type="module">
        function convertJSONToTable(jsonData) {
            let headers = Object.keys(jsonData["menu_list"][0]);
            let table = '<table><thread><tr>';
            
            headers.forEach(header => table += `<th>${header}</th>`);
            table += '</tr></thread><tbody>';

            jsonData["menu_list"].forEach(row => {
                table += '<tr>';
                headers.forEach(header => table += `<td>${row[header]}</td>`);
                table += '</tr>';
            });

            table += '</tbody></table>';

            document.getElementById('table-container').innerHTML = table;
        }

        import menuList from '../menuLists.json' with { type: 'json'};
        convertJSONToTable(menuList);
    </script>
</body>